Changelog
=========

Versions
--------

- v0.0.4

- v0.0.3

- v0.0.2


v0.0.6
~~~~~~

v0.0.5
~~~~~~

v0.0.4
~~~~~~

v0.0.3
~~~~~~

v0.0.2
~~~~~~

v0.0.1
~~~~~~

future ...
-----------

.. note:: This can also be included from github issues. Here for simplicity atm.

.. todo:: ``.zip file``

    Automatically create .zip file with version including:

     - the ccfg.xlsx DataBlend configuration files
     - the corrector.yaml file
     - the information with changes

.. todo:: ``Booleans to Categories``

    Allow to combine features that have been recorded as booleans in different
    columns into a single column with several categories. For example:

      - ventilation_cannula    - boolean
      - ventilation_mechanical - boolean
      - ventilation_ncpap      - boolean

    into a single ventilation with ['Cannula', 'Mechanical', 'NCPAP']

.. todo:: ``Formatting string features``

    In particular those related with:

       - antimicrobial, dose, frequency and via of administration.
       - fluids (blood, parental, ...)

    Consider:

       - Trim, duplicated spaces, ...
       - Uppercase/lowercase, Capitalized, ...

.. todo:: ``Include in the galleries...``

       - ``Date in which features are available``: Graphs showing when features are
         usually available taking into account the three disease timelines; that is,
         day_from_onset, day_from_admission and day_from_enrolment. It would be also
         possible to define a day of defervescence.

       - ``Description of the datasets``: Autogenerated description of the datasets
         according to any specific outcome, the presence of dengue, the complications,
         ... Include n_patients, distributions and percentages for age, gender, weight,
         height, .....


.. todo:: ``liver`` related features:

    - liver_acute
    - liver_failure
    - liver_involved
    - liver_mild
    - liver_severe
    - liver_palpation
    - liver_palpation_size
    - liver_size (liver_palpation_size)

.. todo:: ``events``

    When comparing the events' count:

    - In particular event_admission, event_discharge should have the same numbers
      in the counts table, however, this does not always the case. Wondering whether
      maybe events_transferred should also be considered as discharged. Any other
      suggestions?

    - Count the number of different study_no's in each database, it might help.

    - In the case of event_onset, there should be always more than admissions.

    - In 32dx review event_death; all the patients died!. In the 'SUM' worksheet
      the DeathDate and DeathTime is filled for all the records.

    - What about event_followup? Sometimes really high numbers!


.. todo::

  - There should not be any date after event_death.

  - There can be data after event_discharge (because of the follow ups).

  - If outcome is 'Full Recovery' then we can set up the event_discharge
    as the last day with values (if no event_follow up). Also review
    inconsistencies between outcomes (Died) and events.

  - If outcome is 'Died' then if event_admission then add event_discharge.
    The event_discharge could be placed the last day values were recorded,
    and in addition, event_death should be set too.

  - When compute patient length stay, or when setting any discharge date
    be careful with the follow up dates.

  - The day_from_onset has sometimes negative values which should not happen.
    Thus, have a thorough look at this. There are date errors in the data,
    think how to address this issues or just discard such patients. Maybe
    remove my day cleaner? There was also one data with marge datetime
    formats? and also giving error and had to use coerce?

  - Related with shocks:

     If event_shock count == 1: shock = 1
     If event_shock count >= 1: shock = 1 / shock_multiple = 1
     There are also two weird variables, shock_no and shock_time. This
     could also be used to increase the accuracy of the shock tracking.

  - event_onset < event_admission
    event_admission < event_discharge
    event_admission < event_enrolment ?? Depends.
    event_shock can happen at any time.
    if there is an event_admission for a patient, then there should be an
    event_discharge, event_transferred or event_death

  - Let users apply the range filters if they want too?

  - Do check levels (e.g. abdominal_pain, abdominal_pain_level) and whether
    this were levels or days. Oh dear!

  - ``Fever``: This value has been collected in many different types, sometimes
    just the presence of fever was recorded, sometimes the body temperature was
    recorded and sometimes both have been recorded. To ensure that all values
    are consistent:

    - if body_temperature > 37.5 then create event_fever for that date.
    - if body_temperature < 37.5 there might still be an event_fever, note
      that temperature values are just collected once per day. I assume then
      keep both.